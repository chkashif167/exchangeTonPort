{"ast":null,"code":"var _jsxFileName = \"F:\\\\React\\\\upwork\\\\test\\\\src\\\\components\\\\header\\\\index.js\";\nimport React, { Component } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { handleMenuClick } from \"../../actions/menuActions\";\nimport { connect } from \"react-redux\";\nimport t from \"../../constants/language\";\nimport Language from \"@material-ui/icons/Language\";\nimport * as types from \"../../actions/types\";\nimport axios from \"axios\";\nimport config from \"../../config/config\";\n\nconst styles = theme => ({\n  appBar: {\n    backgroundColor: \"black\",\n    zIndex: theme.zIndex.drawer + 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  }\n});\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getLanguage = () => {\n      axios.request({\n        url: \"/api/users/language\",\n        baseURL: config.apiBaseUrl,\n        method: \"GET\"\n      }).then(res => {\n        console.log(\"get language\", res.body);\n        const curLanguage = res.data.language;\n        var curlang_index = 0;\n        if (curLanguage === \"french\") curlang_index = 1;\n        if (curLanguage === \"german\") curlang_index = 2;\n        if (curLanguage === \"italian\") curlang_index = 3;\n        this.props.dispatch({\n          type: types.CHANGE_LANG,\n          payload: curlang_index\n        });\n      }).catch(err => {\n        console.log(\"post language Error\", err);\n      });\n    };\n\n    this.mobileMenuId = \"primary-search-account-menu-mobile\";\n\n    this.handleLangClose = () => {\n      this.setState({\n        languageAnchorEl: null\n      });\n    };\n\n    this.handleLangClick = event => {\n      this.setState({\n        languageAnchorEl: event.currentTarget\n      });\n      this.handleMobileMenuClose();\n    };\n\n    this.handleLangItemClick = index => {\n      this.props.dispatch({\n        type: types.CHANGE_LANG,\n        payload: index\n      });\n      this.setState({\n        languageAnchorEl: null\n      });\n      const langString = [\"english\", \"french\", \"german\", \"italian\"];\n      axios.request({\n        url: \"/api/users/language\",\n        baseURL: config.apiBaseUrl,\n        method: \"POST\",\n        data: {\n          language: langString[index]\n        }\n      }).then(res => {// console.log(\"saveProfile\", res);\n      }).catch(err => {\n        console.log(\"post language Error\", err);\n      });\n    };\n\n    this.state = {\n      mobileMoreAnchorEl: null,\n      languageAnchorEl: null\n    };\n    this.handleMobileMenuOpen = this.handleMobileMenuOpen.bind(this);\n    this.handleMobileMenuClose = this.handleMobileMenuClose.bind(this);\n  }\n\n  componentDidMount() {\n    this.getLanguage();\n  }\n\n  handleMobileMenuOpen(event) {\n    this.setState({\n      mobileMoreAnchorEl: event.currentTarget\n    });\n  }\n\n  handleMobileMenuClose() {\n    this.setState({\n      mobileMoreAnchorEl: null\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const languageAnchorEl = this.state.languageAnchorEl;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      position: \"fixed\",\n      className: classes.appBar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, this.props.menuOn && React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"Open drawer\",\n      onClick: this.props.toggleMobileMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(MenuIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      variant: \"h6\",\n      noWrap: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"#30a5ff\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, t[this.props.lang].app_title)), React.createElement(\"div\", {\n      className: classes.grow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.sectionDesktop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"\",\n      color: \"inherit\",\n      onClick: this.handleLangClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Language, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.sectionMobile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"Show more\",\n      \"aria-controls\": this.mobileMenuId,\n      \"aria-haspopup\": \"true\",\n      onClick: this.handleMobileMenuOpen,\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(MoreIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }))))), React.createElement(Menu, {\n      id: \"language-menu\",\n      anchorEl: languageAnchorEl,\n      keepMounted: true,\n      open: languageAnchorEl ? true : false,\n      onClose: this.handleLangClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      onClick: () => this.handleLangItemClick(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, t[this.props.lang].french_native), React.createElement(MenuItem, {\n      onClick: () => this.handleLangItemClick(0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, t[this.props.lang].english_native)), React.createElement(Menu, {\n      anchorEl: this.state.mobileMoreAnchorEl,\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      keepMounted: true,\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      open: Boolean(this.state.mobileMoreAnchorEl),\n      onClose: this.handleMobileMenuClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      onClick: this.handleLangClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Language, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Set Language\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    mobileOpen: state.mobileOpen,\n    lang: state.menu.lang\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleMobileMenu: () => {\n      dispatch(handleMenuClick());\n    },\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Header));","map":{"version":3,"sources":["F:/React/upwork/test/src/components/header/index.js"],"names":["React","Component","AppBar","Toolbar","Typography","IconButton","Badge","MoreIcon","MailIcon","withStyles","NotificationsIcon","MenuIcon","Menu","MenuItem","handleMenuClick","connect","t","Language","types","axios","config","styles","theme","appBar","backgroundColor","zIndex","drawer","grow","flexGrow","sectionDesktop","display","breakpoints","up","sectionMobile","menuButton","marginRight","spacing","Header","constructor","props","getLanguage","request","url","baseURL","apiBaseUrl","method","then","res","console","log","body","curLanguage","data","language","curlang_index","dispatch","type","CHANGE_LANG","payload","catch","err","mobileMenuId","handleLangClose","setState","languageAnchorEl","handleLangClick","event","currentTarget","handleMobileMenuClose","handleLangItemClick","index","langString","state","mobileMoreAnchorEl","handleMobileMenuOpen","bind","componentDidMount","render","classes","menuOn","toggleMobileMenu","color","lang","app_title","french_native","english_native","vertical","horizontal","Boolean","mapStateToProps","mobileOpen","menu","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { handleMenuClick } from \"../../actions/menuActions\";\r\nimport { connect } from \"react-redux\";\r\nimport t from \"../../constants/language\";\r\nimport Language from \"@material-ui/icons/Language\";\r\nimport * as types from \"../../actions/types\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config/config\";\r\nconst styles = theme => ({\r\n  appBar: {\r\n    backgroundColor: \"black\",\r\n    zIndex: theme.zIndex.drawer + 1\r\n  },\r\n  grow: {\r\n    flexGrow: 1\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\"\r\n    }\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\"\r\n    }\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none\"\r\n    }\r\n  }\r\n});\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      mobileMoreAnchorEl: null,\r\n      languageAnchorEl: null\r\n    };\r\n\r\n    this.handleMobileMenuOpen = this.handleMobileMenuOpen.bind(this);\r\n    this.handleMobileMenuClose = this.handleMobileMenuClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getLanguage();\r\n  }\r\n\r\n  getLanguage = () => {\r\n    axios\r\n      .request({\r\n        url: \"/api/users/language\",\r\n        baseURL: config.apiBaseUrl,\r\n        method: \"GET\"\r\n      })\r\n      .then(res => {\r\n        console.log(\"get language\", res.body);\r\n        const curLanguage = res.data.language;\r\n        var curlang_index = 0;\r\n        if (curLanguage === \"french\") curlang_index = 1;\r\n        if (curLanguage === \"german\") curlang_index = 2;\r\n        if (curLanguage === \"italian\") curlang_index = 3;\r\n        this.props.dispatch({\r\n          type: types.CHANGE_LANG,\r\n          payload: curlang_index\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"post language Error\", err);\r\n      });\r\n  };\r\n\r\n  mobileMenuId = \"primary-search-account-menu-mobile\";\r\n\r\n  handleMobileMenuOpen(event) {\r\n    this.setState({\r\n      mobileMoreAnchorEl: event.currentTarget\r\n    });\r\n  }\r\n\r\n  handleMobileMenuClose() {\r\n    this.setState({\r\n      mobileMoreAnchorEl: null\r\n    });\r\n  }\r\n\r\n  handleLangClose = () => {\r\n    this.setState({ languageAnchorEl: null });\r\n  };\r\n\r\n  handleLangClick = event => {\r\n    this.setState({ languageAnchorEl: event.currentTarget });\r\n    this.handleMobileMenuClose();\r\n  };\r\n\r\n  handleLangItemClick = index => {\r\n    this.props.dispatch({ type: types.CHANGE_LANG, payload: index });\r\n    this.setState({ languageAnchorEl: null });\r\n\r\n    const langString = [\"english\", \"french\", \"german\", \"italian\"];\r\n    axios\r\n      .request({\r\n        url: \"/api/users/language\",\r\n        baseURL: config.apiBaseUrl,\r\n        method: \"POST\",\r\n        data: { language: langString[index] }\r\n      })\r\n      .then(res => {\r\n        // console.log(\"saveProfile\", res);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"post language Error\", err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { languageAnchorEl } = this.state;\r\n    return (\r\n      <div>\r\n        <AppBar position=\"fixed\" className={classes.appBar}>\r\n          <Toolbar>\r\n            {this.props.menuOn && (\r\n              <IconButton\r\n                edge=\"start\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\"\r\n                aria-label=\"Open drawer\"\r\n                onClick={this.props.toggleMobileMenu}\r\n              >\r\n                <MenuIcon />\r\n              </IconButton>\r\n            )}\r\n            <Typography variant=\"h6\" noWrap>\r\n              <span style={{ color: \"#30a5ff\" }}>\r\n                {t[this.props.lang].app_title}\r\n              </span>\r\n            </Typography>\r\n            <div className={classes.grow} />\r\n\r\n            <div className={classes.sectionDesktop}>\r\n              <IconButton\r\n                aria-label=\"\"\r\n                color=\"inherit\"\r\n                onClick={this.handleLangClick}\r\n              >\r\n                <Language />\r\n              </IconButton>\r\n            </div>\r\n\r\n            <div className={classes.sectionMobile}>\r\n              <IconButton\r\n                aria-label=\"Show more\"\r\n                aria-controls={this.mobileMenuId}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleMobileMenuOpen}\r\n                color=\"inherit\"\r\n              >\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <Menu\r\n          id=\"language-menu\"\r\n          anchorEl={languageAnchorEl}\r\n          keepMounted\r\n          open={languageAnchorEl ? true : false}\r\n          onClose={this.handleLangClose}\r\n        >\r\n          {/* <MenuItem onClick={() => this.handleLangItemClick(2)}>\r\n            {t[this.props.lang].german}\r\n          </MenuItem> */}\r\n          <MenuItem onClick={() => this.handleLangItemClick(1)}>\r\n            {t[this.props.lang].french_native}\r\n          </MenuItem>\r\n          {/* <MenuItem onClick={() => this.handleLangItemClick(3)}>\r\n            {t[this.props.lang].italian}\r\n          </MenuItem> */}\r\n          <MenuItem onClick={() => this.handleLangItemClick(0)}>\r\n            {t[this.props.lang].english_native}\r\n          </MenuItem>\r\n        </Menu>\r\n\r\n        <Menu\r\n          anchorEl={this.state.mobileMoreAnchorEl}\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          keepMounted\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          open={Boolean(this.state.mobileMoreAnchorEl)}\r\n          onClose={this.handleMobileMenuClose}\r\n        >\r\n          <MenuItem onClick={this.handleLangClick}>\r\n            <IconButton aria-label=\"\" color=\"inherit\">\r\n              <Language />\r\n            </IconButton>\r\n            <p>Set Language</p>\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    mobileOpen: state.mobileOpen,\r\n    lang: state.menu.lang\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleMobileMenu: () => {\r\n      dispatch(handleMenuClick());\r\n    },\r\n    dispatch\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(Header));\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"F:\\\\React\\\\upwork\\\\test\\\\src\\\\containers\\\\dashboard\\\\sidebar\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport DirectionsBoat from \"@material-ui/icons/DirectionsBoat\";\nimport NoteAdd from \"@material-ui/icons/NoteAdd\";\nimport PowerSettingsNew from \"@material-ui/icons/PowerSettingsNew\";\nimport SpeakerNotes from \"@material-ui/icons/SpeakerNotes\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { connect } from \"react-redux\";\nimport UserStatus from \"../userstatus\";\nimport { handleMenuClick } from \"../../../actions/menuActions\";\nimport axios from \"axios\";\nimport config from \"../../../config/config\";\nimport t from \"../../../constants/language\";\nimport { setUser, getUser } from \"../../../service\";\nimport BW_Logo from \"../../../assets/logo-bw.png\";\nimport Image from \"material-ui-image\";\nconst drawerWidth = 240;\n\nfunction ListItemLink(props) {\n  return React.createElement(ListItem, Object.assign({\n    button: true,\n    component: \"a\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }));\n}\n\nconst styles = theme => ({\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserInfo = () => {\n      axios.request({\n        url: \"/api/users/info\",\n        baseURL: config.apiBaseUrl,\n        method: \"get\"\n      }).then(res => {\n        console.log(\"user info: \", res);\n        setUser(res.data.user);\n        var shortname = res.data.user.firstname[0] + res.data.user.lastname[0];\n        this.setState({\n          firstname: res.data.user.firstname,\n          shortname: shortname.toUpperCase()\n        });\n        this.props.dispatch({\n          type: \"AVATAR_CHANGED\",\n          payload: res.data.avatar\n        });\n      }).catch(err => {\n        console.log(\"get userinfo error\", err);\n      });\n    };\n\n    this.handleSidebar = (tabname, isMobile) => {\n      switch (tabname) {\n        case \"userinfo\":\n          this.props.ontab(1);\n          break;\n\n        case \"boatinfo\":\n          this.props.ontab(2);\n          break;\n\n        case \"adsinfo\":\n          this.props.ontab(3);\n          break;\n\n        case \"schedule\":\n          this.props.ontab(4);\n          break;\n\n        case \"logout\":\n          this.props.ontab(5);\n          break;\n\n        default:\n          break;\n      }\n\n      if (isMobile) this.props.toggleMobileMenu();\n    };\n\n    this.handleMobilesidebar = (tabname, isMobile) => {\n      switch (tabname) {\n        case \"userinfo\":\n          this.props.ontab(1);\n          break;\n\n        case \"boatinfo\":\n          this.props.ontab(2);\n          break;\n\n        case \"adsinfo\":\n          this.props.ontab(3);\n          break;\n\n        case \"schedule\":\n          this.props.ontab(4);\n          break;\n\n        case \"logout\":\n          this.props.ontab(5);\n          break;\n\n        default:\n          break;\n      }\n\n      if (isMobile) this.props.toggleMobileMenu();\n    };\n\n    this.drawer = (firstname, shortname, avatar, isMobile) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: this.props.classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(UserStatus, {\n      online: true,\n      name: firstname,\n      shortname: shortname,\n      avatar: avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(ListItemLink, {\n      onClick: () => this.handleSidebar(\"userinfo\", isMobile),\n      href: \"#/dashboard/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(AccountCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: t[this.props.lang].user_info,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), getUser().admin !== \"port\" && React.createElement(React.Fragment, null, React.createElement(ListItemLink, {\n      onClick: () => this.handleSidebar(\"boatinfo\", isMobile),\n      href: \"#/dashboard/boat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(DirectionsBoat, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: t[this.props.lang].boat_info,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), React.createElement(ListItemLink, {\n      onClick: () => this.handleSidebar(\"adsinfo\", isMobile),\n      href: \"#/dashboard/ads\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(NoteAdd, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: t[this.props.lang].ads,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(ListItemLink, {\n      onClick: () => this.handleSidebar(\"schedule\", isMobile),\n      href: \"#/dashboard/schedule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(SpeakerNotes, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: t[this.props.lang].schedule,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(ListItemLink, {\n      onClick: () => this.handleSidebar(\"logout\", isMobile),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(PowerSettingsNew, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: t[this.props.lang].logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(ListItemLink, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })), React.createElement(ListItemLink, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"https://www.bucher-walt.ch/\",\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Image, {\n      alt: \"avatar img\",\n      src: BW_Logo,\n      imageStyle: {\n        width: \"auto\",\n        height: \"auto\",\n        position: \"relative\",\n        maxWidth: 150,\n        maxHeight: 100\n      },\n      style: {\n        paddingTop: 0,\n        backgroundColor: \"transparent\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }))))));\n\n    this.state = {\n      firstname: \"\",\n      shortname: \"\"\n    };\n    this.getUserInfo();\n  }\n\n  render() {\n    const classes = this.props.classes; // const theme = useTheme();\n\n    return React.createElement(\"nav\", {\n      className: classes.drawer,\n      \"aria-label\": \"Mailbox folders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Hidden, {\n      smUp: true,\n      implementation: \"css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Drawer // container={container}\n    , {\n      variant: \"temporary\",\n      anchor: \"left\",\n      open: this.props.mobileOpen,\n      onClose: this.props.toggleMobileMenu,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      ModalProps: {\n        keepMounted: true // Better open performance on mobile.\n\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.drawer(this.state.firstname, this.state.shortname, this.props.avatarPath, true))), React.createElement(Hidden, {\n      xsDown: true,\n      implementation: \"css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(Drawer, {\n      classes: {\n        paper: classes.drawerPaper\n      },\n      variant: \"permanent\",\n      open: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, this.drawer(this.state.firstname, this.state.shortname, this.props.avatarPath, false))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    mobileOpen: state.menu.mobileOpen,\n    avatarPath: state.menu.avatarPath,\n    lang: state.menu.lang\n  };\n};\n\nconst mapDispathToProps = dispatch => {\n  return {\n    toggleMobileMenu: () => {\n      dispatch(handleMenuClick());\n    },\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(withStyles(styles)(Sidebar));","map":{"version":3,"sources":["F:/React/upwork/test/src/containers/dashboard/sidebar/index.js"],"names":["React","Component","Link","Drawer","List","Divider","ListItem","ListItemIcon","ListItemText","withStyles","AccountCircle","DirectionsBoat","NoteAdd","PowerSettingsNew","SpeakerNotes","Hidden","connect","UserStatus","handleMenuClick","axios","config","t","setUser","getUser","BW_Logo","Image","drawerWidth","ListItemLink","props","styles","theme","drawer","breakpoints","up","width","flexShrink","drawerPaper","content","flexGrow","padding","spacing","toolbar","mixins","Sidebar","constructor","getUserInfo","request","url","baseURL","apiBaseUrl","method","then","res","console","log","data","user","shortname","firstname","lastname","setState","toUpperCase","dispatch","type","payload","avatar","catch","err","handleSidebar","tabname","isMobile","ontab","toggleMobileMenu","handleMobilesidebar","classes","lang","user_info","admin","boat_info","ads","schedule","logout","display","justifyContent","height","position","maxWidth","maxHeight","paddingTop","backgroundColor","state","render","mobileOpen","paper","keepMounted","avatarPath","mapStateToProps","menu","mapDispathToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport DirectionsBoat from \"@material-ui/icons/DirectionsBoat\";\r\nimport NoteAdd from \"@material-ui/icons/NoteAdd\";\r\nimport PowerSettingsNew from \"@material-ui/icons/PowerSettingsNew\";\r\nimport SpeakerNotes from \"@material-ui/icons/SpeakerNotes\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport { connect } from \"react-redux\";\r\nimport UserStatus from \"../userstatus\";\r\nimport { handleMenuClick } from \"../../../actions/menuActions\";\r\nimport axios from \"axios\";\r\nimport config from \"../../../config/config\";\r\nimport t from \"../../../constants/language\";\r\nimport { setUser, getUser } from \"../../../service\";\r\n\r\nimport BW_Logo from \"../../../assets/logo-bw.png\";\r\nimport Image from \"material-ui-image\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nconst styles = theme => ({\r\n  drawer: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0\r\n    }\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3)\r\n  },\r\n  toolbar: theme.mixins.toolbar\r\n});\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: \"\",\r\n      shortname: \"\"\r\n    };\r\n\r\n    this.getUserInfo();\r\n  }\r\n\r\n  getUserInfo = () => {\r\n    axios\r\n      .request({\r\n        url: \"/api/users/info\",\r\n        baseURL: config.apiBaseUrl,\r\n        method: \"get\"\r\n      })\r\n      .then(res => {\r\n        console.log(\"user info: \", res);\r\n        setUser(res.data.user);\r\n\r\n        var shortname = res.data.user.firstname[0] + res.data.user.lastname[0];\r\n        this.setState({\r\n          firstname: res.data.user.firstname,\r\n          shortname: shortname.toUpperCase()\r\n        });\r\n        this.props.dispatch({\r\n          type: \"AVATAR_CHANGED\",\r\n          payload: res.data.avatar\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"get userinfo error\", err);\r\n      });\r\n  };\r\n\r\n  handleSidebar = (tabname, isMobile) => {\r\n    switch (tabname) {\r\n      case \"userinfo\":\r\n        this.props.ontab(1);\r\n        break;\r\n      case \"boatinfo\":\r\n        this.props.ontab(2);\r\n        break;\r\n      case \"adsinfo\":\r\n        this.props.ontab(3);\r\n        break;\r\n      case \"schedule\":\r\n        this.props.ontab(4);\r\n        break;\r\n      case \"logout\":\r\n        this.props.ontab(5);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (isMobile) this.props.toggleMobileMenu();\r\n  };\r\n\r\n  handleMobilesidebar = (tabname, isMobile) => {\r\n    switch (tabname) {\r\n      case \"userinfo\":\r\n        this.props.ontab(1);\r\n        break;\r\n      case \"boatinfo\":\r\n        this.props.ontab(2);\r\n        break;\r\n      case \"adsinfo\":\r\n        this.props.ontab(3);\r\n        break;\r\n      case \"schedule\":\r\n        this.props.ontab(4);\r\n        break;\r\n      case \"logout\":\r\n        this.props.ontab(5);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (isMobile) this.props.toggleMobileMenu();\r\n  };\r\n\r\n  drawer = (firstname, shortname, avatar, isMobile) => (\r\n    <div>\r\n      <div className={this.props.classes.toolbar} />\r\n      <List>\r\n        <UserStatus\r\n          online={true}\r\n          name={firstname}\r\n          shortname={shortname}\r\n          avatar={avatar}\r\n        />\r\n        <ListItemLink\r\n          onClick={() => this.handleSidebar(\"userinfo\", isMobile)}\r\n          href=\"#/dashboard/profile\"\r\n        >\r\n          <ListItemIcon>\r\n            <AccountCircle />\r\n          </ListItemIcon>\r\n          <ListItemText primary={t[this.props.lang].user_info} />\r\n        </ListItemLink>\r\n        {getUser().admin !== \"port\" && (\r\n          <>\r\n            <ListItemLink\r\n              onClick={() => this.handleSidebar(\"boatinfo\", isMobile)}\r\n              href=\"#/dashboard/boat\"\r\n            >\r\n              <ListItemIcon>\r\n                <DirectionsBoat />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t[this.props.lang].boat_info} />\r\n            </ListItemLink>\r\n            <ListItemLink\r\n              onClick={() => this.handleSidebar(\"adsinfo\", isMobile)}\r\n              href=\"#/dashboard/ads\"\r\n            >\r\n              <ListItemIcon>\r\n                <NoteAdd />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t[this.props.lang].ads} />\r\n            </ListItemLink>\r\n          </>\r\n        )}\r\n        <ListItemLink\r\n          onClick={() => this.handleSidebar(\"schedule\", isMobile)}\r\n          href=\"#/dashboard/schedule\"\r\n        >\r\n          <ListItemIcon>\r\n            <SpeakerNotes />\r\n          </ListItemIcon>\r\n          <ListItemText primary={t[this.props.lang].schedule} />\r\n        </ListItemLink>\r\n        <ListItemLink onClick={() => this.handleSidebar(\"logout\", isMobile)}>\r\n          <ListItemIcon>\r\n            <PowerSettingsNew />\r\n          </ListItemIcon>\r\n          <ListItemText primary={t[this.props.lang].logout} />\r\n        </ListItemLink>\r\n        <ListItemLink>\r\n          <Divider />\r\n        </ListItemLink>\r\n        <ListItemLink>\r\n          <ListItemText style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <a href=\"https://www.bucher-walt.ch/\" target=\"_blank\">\r\n              <Image\r\n                alt=\"avatar img\"\r\n                src={BW_Logo}\r\n                imageStyle={{\r\n                  width: \"auto\",\r\n                  height: \"auto\",\r\n                  position: \"relative\",\r\n                  maxWidth: 150,\r\n                  maxHeight: 100\r\n                }}\r\n                style={{ paddingTop: 0, backgroundColor: \"transparent\" }}\r\n              />\r\n            </a>\r\n          </ListItemText>\r\n        </ListItemLink>\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    // const theme = useTheme();\r\n    return (\r\n      <nav className={classes.drawer} aria-label=\"Mailbox folders\">\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden smUp implementation=\"css\">\r\n          <Drawer\r\n            // container={container}\r\n            variant=\"temporary\"\r\n            anchor=\"left\"\r\n            open={this.props.mobileOpen}\r\n            onClose={this.props.toggleMobileMenu}\r\n            classes={{\r\n              paper: classes.drawerPaper\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {/* //Mobile menu */}\r\n            {this.drawer(\r\n              this.state.firstname,\r\n              this.state.shortname,\r\n              this.props.avatarPath,\r\n              true\r\n            )}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden xsDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {this.drawer(\r\n              this.state.firstname,\r\n              this.state.shortname,\r\n              this.props.avatarPath,\r\n              false\r\n            )}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    mobileOpen: state.menu.mobileOpen,\r\n    avatarPath: state.menu.avatarPath,\r\n    lang: state.menu.lang\r\n  };\r\n};\r\n\r\nconst mapDispathToProps = dispatch => {\r\n  return {\r\n    toggleMobileMenu: () => {\r\n      dispatch(handleMenuClick());\r\n    },\r\n    dispatch\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispathToProps\r\n)(withStyles(styles)(Sidebar));\r\n"]},"metadata":{},"sourceType":"module"}